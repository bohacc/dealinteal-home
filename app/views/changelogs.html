<div class="container-fluid changelog">
    <div class="">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-3">
            <span class="h1">{{'CHANGELOG' | translate}}</span>
        </div>
        <div class="hidden-xs col-sm-6 col-md-3 col-lg-2">
            <form role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="{{'SEARCH_CHANGELOG' | translate}}"
                           data-ng-model="searchStr"
                           data-ng-keyup="setSearch($event)">
                </div>
            </form>
        </div>
        <div class="hidden-xs hidden-sm col-md-6 col-lg-5">
            <div class="btn-group">
                <button type="button" class="btn btn-default"
                        data-ng-model="dataLoaderParams.sortField"
                        data-uib-btn-radio="'deadline'"
                        data-ng-disabled="infoPaging.inProcess">{{'DATE' | translate}}</button>
                <button type="button" class="btn btn-default"
                        data-ng-model="dataLoaderParams.sortField"
                        data-uib-btn-radio="'subject'"
                        data-ng-disabled="infoPaging.inProcess">{{'TYPE_OF_CHANGE' | translate}}</button>
                <button type="button" class="btn btn-default"
                        data-ng-model="dataLoaderParams.sortField"
                        data-uib-btn-radio="'ownersort'"
                        data-ng-disabled="infoPaging.inProcess">{{'MODULE' | translate}}</button>
                <button type="button" class="btn btn-default"
                        data-ng-model="dataLoaderParams.sortField"
                        data-uib-btn-radio="'teammember'"
                        data-ng-disabled="infoPaging.inProcess">{{'USER' | translate}}</button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default glyphicon glyphicon-arrow-up active"
                        data-ng-model="dataLoaderParams.sortDirection"
                        data-uib-btn-radio="'asc'"
                        data-ng-disabled="infoPaging.inProcess"></button>
                <button type="button" class="btn btn-default glyphicon glyphicon-arrow-down"
                        data-ng-model="dataLoaderParams.sortDirection"
                        data-uib-btn-radio="'desc'"
                        data-ng-disabled="infoPaging.inProcess"></button>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-3 col-lg-2 n-ha-right">
        </div>
        <div class="clearfix"></div>
    </div>
</div>

<div class="container-fluid changelog">
    <div data-ng-repeat="change in changelogs">
        <div data-ng-class="{'n-list-1': $even,'n-list-2': $odd}">
            <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 n-vpadding-05" data-ng-class="{'n-list-1': $even,'n-list-2': $odd}">
                <div class="input-group">
                    <input type="text" class="form-control n-input n-white" data-ng-model="change.id" disabled>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle n-white " data-toggle="dropdown">
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu n-dropdown-right" role="menu">
                          <li><a href="javascript:void(0);" data-ng-click="showRecord[change.id]=!showRecord[change.id]">{{'SHOW_LOG_DETAIL' | translate}}</a></li>
                        </ul>
                    </span>
                </div>
            </div>
            <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 n-vpadding-1">
              <span>
                {{change.method | translate}}
              </span>
            </div>
            <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 n-vpadding-1">
                {{change.table_name | translate}}
            </div>
            <div class="col-xs-6 col-sm-6 col-md-2 col-lg-2 n-vpadding-1">
                {{change.user_login}}
            </div>
            <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 n-vpadding-1">
                {{change.date_event | date}}
            </div>
            <div class="clearfix"></div>
            <!--detail in list-->
            <div class="changelog_record" data-ng-if="showRecord[change.id]">
              <div class="">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                  <span class="h3">{{'DETAIL_OF_CHANGE_IN_RECORD' | translate}} {{change.pk}}</span>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 n-ha-right">
                  <button type="button" class="btn n-btn-4" data-ng-click="showDetail(change)">{{'SHOW_DETAIL' | translate}}</button>
                </div>
                <div class="clearfix"></div>
              </div>
              <div class="">
                <div class="col-xs-6 col-sm-6 col-md-4 col-lg-4">
                  <div class="form-group">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                      <label for="XXX1" class="n-label-2">{{'DATE' | translate}}</label>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-8 col-lg-8">
                      <input id="XXX1" name="XXX1" type="text" class="form-control n-input" disabled="disabled" value="{{change.date_event | date}}">
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="form-group">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                      <label for="XXX2" class="n-label-2">{{'TYPE' | translate}}</label>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-8 col-lg-8">
                      <input id="XXX2" name="XXX2" type="text" class="form-control n-input" disabled="disabled" value="{{change.method | translate}}">
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="form-group">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                      <label for="XXX3" class="n-label-2">{{'MODULE' | translate}}</label>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-8 col-lg-8">
                      <input id="XXX3" name="XXX3" type="text" class="form-control n-input" disabled="disabled" value="{{change.table_name | translate}}">
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="form-group">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                      <label for="XXX4" class="n-label-2">{{'USER' | translate}}</label>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-8 col-lg-8">
                      <input id="XXX4" name="XXX1" type="text" class="form-control n-input" disabled="disabled" data-ng-model="change.user_login">
                    </div>
                    <div class="clearfix"></div>
                  </div>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-8 col-lg-8">
                  <div class="form-group">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <span>
                             {{'FIELD' | translate}}
                        </span>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <span>
                            {{'ORIGINAL_VALUE' | translate}}
                        </span>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <span>
                            {{'NEW_VALUE' | translate}}
                        </span>
                    </div>
                  </div>
                  <div class="clearfix"></div>
                  <div data-ng-repeat="item in change.history">
                    <div data-ng-class="{'n-list-1': $even,'n-list-2': $odd}">
                      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 n-vpadding-1">
                        <span>
                             {{item.name}}
                        </span>
                      </div>
                      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 n-vpadding-1">
                        <span>
                            {{item.old}}
                        </span>
                      </div>
                      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 n-vpadding-1">
                        <span>
                            {{item.new}}
                        </span>
                      </div>
                      <div class="clearfix"></div>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
              </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<div class="n-ha-center">
    <pagination-notia
            load-data="dataLoader"
            load-data-params="dataLoaderParams"
            amount="10"
            list-data="changelogs"
            button-all="false"
            info="infoPaging"
            ></pagination-notia>
</div>

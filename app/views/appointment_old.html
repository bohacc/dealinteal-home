<div class="container-fluid appointment">
    <div class="">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <span class="h1">{{'APPOINTMENT' | translate}}</span>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="">
        <div class="form-group">
            <div class="">
                <label for="XXX1" class="sr-only">{{'EVENT_TYPE' | translate}}</label>
                <div class="input-group">
                    <input id="XXX1" name="XXX1" type="text" class="form-control" placeholder="{{'EVENT_TYPE' | translate}}"
                           value="{{appointmentTmp.tmpTypeName | translate}}"
                           data-ng-readonly="true"
                           data-ng-required="true">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li data-ng-repeat="type in appointmentTypes">
                              <a href="javascript:void(0);" data-ng-click="setType($index)" tabindex="1">{{type.name | translate}}</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="">
                <label for="XXX2" class="sr-only">{{'SUBJECT' | translate}}</label>
                <input id="XXX2" name="XXX2" type="text" class="form-control" placeholder="{{'SUBJECT' | translate}}"
                       data-ng-model="appointment.subject"
                       data-ng-maxlength="100"
                       tabindex="2">
            </div>
        </div>
        <div class="form-group">
            <div class="">
                <label for="XXX3" class="sr-only">{{'NOTE' | translate}}</label>
                <textarea id="XXX3" name="XXX3" class="form-control" placeholder="{{'NOTE' | translate}}"
                          data-ng-model="appointment.memo"
                          data-ng-maxlength="2000"
                          tabindex="3"></textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="">
                <label for="XXX4" class="sr-only">{{'PLACE' | translate}}</label>
                <div class="input-group">
                    <input id="XXX4" name="XXX4" type="text" class="form-control" placeholder="{{'PLACE' | translate}}"
                           value="{{appointment.place | translate}}"
                           data-ng-readonly="true"
                           data-ng-required="true">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li data-ng-repeat="place in appointmentPlaces">
                              <a href="javascript:void(0);" data-ng-click="setPlace($index)" tabindex="4">{{place.name | translate}}</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="n-autocomplete">
                <!--<label for="XXX5" class="sr-only" data-ng-if="appointmentTmp.tmpPlaceId!=3">{{'LOCATION' | translate}}</label>-->
                <!--<input id="XXX5" name="XXX5" type="text" class="form-control" placeholder="{{'LOCATION' | translate}}"
                       data-ng-model="appointment.location"
                       data-ng-if="appointmentTmp.tmpPlaceId!=3">-->
                <data-angucomplete id="XXX5" placeholder="{{'LOCATION' | translate}}"
                                   data-pause="0" data-box-items="appointment.locationBox" data-menu-left="true" data-model="appointmentTmp.tmpSelectedLocation"
                                   data-selected-object-id="id" data-local-data="localDataAddress" data-search-fields="name"
                                   data-title-field="name" data-input-class="form-control" data-multiple="false" data-show-as-box="false"
                                   data-ng-show="true" data-input-all-data="true" data-label-name="LOCATION"
                                   data-label-class="sr-only" data-tabindex="5" data-search-str="appointment.location">
                </data-angucomplete> <!--data-ng-if="appointmentTmp.tmpPlaceId==3"-->
            </div>
        </div>
        <div class="form-group">
            <div class="n-autocomplete">
                <!--<label for="XXX6" class="sr-only">{{'TAG_DESCRIPTION' | translate}}</label>-->
                <!--<input id="XXX6" name="XXX6" type="text" class="form-control" placeholder="{{'TAG_DESCRIPTION' | translate}}" data-ng-model="appointment.appointment_tag_id">-->
                <data-angucomplete id="XXX6" placeholder="{{'TAG_DESCRIPTION' | translate}}"
                                   data-pause="0" data-box-items="appointment.appointment_tags" data-model="appointmentTmp.tmpSelectedAppointmentTag"
                                   data-selected-object-id="id" data-local-data="localDataTags" data-search-fields="name"
                                   data-title-field="name" data-input-class="" data-multiple="true" data-show-as-box="true"
                                   data-ng-show="true" data-input-all-data="true" data-label-name="TAG_DESCRIPTION"
                                   data-label-class="sr-only" data-tabindex="6">
                </data-angucomplete>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="">
        <div class="panel panel-default">
            <div class="panel-heading n-pointer" data-ng-click="collapse1=!collapse1">{{'TIME' | translate}} {{appointment.start_time | date}} - {{timeSize}}</div>
            <div class="panel-body" data-ng-class="{collapse: !collapse1}">
              <div class="col-xs-6 col-sm-6 form-group">
                <label for="XXX7" class="sr-only">{{'FROM' | translate}}</label>
                <div class="input-group">
                  <span class="input-group-btn">
                      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        {{'FROM' | translate}}
                        <span class="caret"></span>
                      </button>
                      <ul class="dropdown-menu" role="menu">
                        <li data-ng-repeat="from in listDateFrom">
                          <a href="javascript:void(0);" data-ng-click="setDateFrom($index)">{{from.name | translate}}</a>
                        </li>
                      </ul>
                  </span>
                  <!--onChangeDateFrom('XXX7', false, true)-->
                  <!--<input id="XXX30" name="XXX14" type="text" class="form-control" data-ng-model="appointment.reminder">-->
                  <input type="text" id="XXX7" name="XXX7" class="form-control" tabindex="7"
                         data-ng-class="{invalid: dp.invalidDate('XXX7')}"
                         data-uib-datepicker-popup="{{format}}"
                         data-ng-model="appointmentTmp.tmpStartDate"
                         data-is-open="opened.tmpStartDate"
                         data-ng-change="calculateDateTime(null, null, 'tmpStartDate', 'start_time', false)"
                         data-ng-blur="calculateDateTime(null, null, 'tmpStartDate', 'start_time', true)"
                         data-ng-keyup="calculateDateTime(null, null, 'tmpStartDate', 'start_time', false)"
                         data-min-date="minDate" />
                  <!--<datepicker-notia id="XXX7" name="XXX7"
                                    data-ng-model="appointmentTmp.tmpStartDate"
                                    data-ng-change="onChangeDateFrom()"
                                    tabindex="7"></datepicker-notia>-->
                  <span class="input-group-btn">
                    <button type="button" class="btn btn-default" data-ng-click="dp.open('tmpStartDate', 'XXX7')">
                      <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-xs-6 col-sm-6 form-group">
                <label for="XXX31" class="sr-only">{{'DATE' | translate}}</label>
                  <div class="input-group" id="groupTimepickerStart">
                    <!--addTime('start_time', appointment.start_time, appointmentTmp.tmpStartTime)-->
                    <!--<input id="XXX31" name="XXX16" type="text" class="form-control" data-ng-model="appointment.time_zone">-->
                    <input id="XXX31" name="XXX31" type="text" class="form-control" tabindex="8"
                           data-ng-model="appointmentTmp.tmpStartTime"
                           data-time-format="{{formatTime}}"
                           data-model-time-format="{{formatTime}}"
                           data-time-type="date"
                           data-trigger="manual"
                           data-html-true="true"
                           data-bs-show="showTPstart"
                           data-ng-disabled="timeFromReadOnly"
                           bs-timepicker>
                    <span class="input-group-btn">
                       <button type="button" id="btTimeStart" class="btn btn-default" data-ng-disabled="timeFromReadOnly" data-ng-click="showTPstart=!showTPstart">
                          <span class="glyphicon glyphicon-time"></span>
                       </button>
                    </span>
                  </div>
              </div>
              <div class="clearfix"></div>
              <div class="col-xs-6 col-sm-6 form-group">
                <label for="XXX77" class="sr-only">{{'TO' | translate}}</label>
                <div class="input-group">
                  <span class="input-group-btn">
                      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        {{'TO' | translate}}
                        <span class="caret"></span>
                      </button>
                      <ul class="dropdown-menu" role="menu">
                        <li data-ng-repeat="to in appointment.type_id == 2 ? listDateTo.allDay : listDateTo.other">
                          <a href="javascript:void(0);" data-ng-click="setDateTimeTo(to.value)">{{to.prefix}}&nbsp;{{to.name | translate}}</a>
                        </li>
                      </ul>
                  </span>
                  <!--onChangeDateTo('XXX77', false)-->
                  <!--<input id="XXX32"  name="XXX14" type="text" class="form-control" data-ng-model="appointment.reminder">-->
                  <input type="text" id="XXX77" class="form-control" name="XXX77" tabindex="9"
                         data-ng-class="{invalid: dp.invalidDate('XXX77')}"
                         data-uib-datepicker-popup="{{format}}"
                         data-ng-model="appointmentTmp.tmpEndDate"
                         data-is-open="opened.tmpEndDate"
                         data-ng-change="calculateDateTime(null, null, 'tmpEndDate', 'end_time', false)"
                         data-ng-blur="calculateDateTime(null, null, 'tmpEndDate', 'end_time', true)"
                         data-ng-keyup="calculateDateTime(null, null, 'tmpEndDate', 'end_time', false)"
                         data-min-date="appointment.start_time" />
                  <!--data-date-disabled="dp.disabledDateTo(date, mode, appointment.start_time)"-->
                  <!--<datepicker-notia id="XXX7" name="XXX7" tabindex="9"
                                    data-ng-model="appointmentTmp.tmpEndDate"
                                    data-ng-change="appointment.end_time=setDate(appointment.end_time, appointmentTmp.tmpEndDate)"></datepicker-notia>-->
                  <span class="input-group-btn">
                    <button type="button" class="btn btn-default" data-ng-click="dp.open('tmpEndDate', 'XXX77')">
                      <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-xs-6 col-sm-6 form-group">
                <label for="XXX33" class="sr-only">{{'TIME' | translate}}</label>
                <div class="input-group" id="groupTimepickerEnd">
                    <!--addTime('end_time', appointment.end_time, appointmentTmp.tmpEndTime)-->
                    <!--<input id="XXX33" name="XXX16" type="text" class="form-control" data-ng-model="appointment.time_zone">-->
                    <input id="XXX33" name="XXX33" type="text" class="form-control" tabindex="10"
                             data-ng-model="appointmentTmp.tmpEndTime"
                             data-time-format="{{formatTime}}"
                             data-model-time-format="{{formatTime}}"
                             data-time-type="date"
                             data-min-time="{{minTime}}"
                             data-trigger="manual"
                             data-bs-show="showTPend"
                             data-ng-disabled="timeToReadOnly"
                             data-ng-change="calculateDateTime(null, null, 'tmpEndTime', 'end_time', false)"
                             data-ng-blur="calculateDateTime(null, null, 'tmpEndTime', 'end_time', true)"
                             data-ng-keyup="calculateDateTime(null, null, 'tmpEndTime', 'end_time', false)"
                             bs-timepicker>
                    <span class="input-group-btn">
                       <button type="button" id="btTimeEnd" class="btn btn-default" data-ng-disabled="timeToReadOnly" data-ng-click="showTPend=!showTPend">
                         <span class="glyphicon glyphicon-time"></span>
                       </button>
                    </span>
                </div>
              </div>
              <div class="col-xs-6 col-sm-6 form-group">
                  <label for="XXX14" class="sr-only">{{'REMINDER' | translate}}</label>
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-bell"></span>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li data-ng-repeat="remind in listReminder">
                                  <a href="javascript:void(0);" data-ng-click="setReminder($index)" tabindex="15">{{remind.prefix}}&nbsp;{{remind.name | translate}}</a>
                                </li>
                            </ul>
                        </span>
                        <input id="XXX14" name="XXX14" type="text" class="form-control" value="{{appointmentTmp.tmpReminderPrefix}} {{appointmentTmp.tmpReminder | translate}}" data-ng-readonly="true">
                    </div>
              </div>
              <div class="col-xs-6 col-sm-6 form-group">
                  <label for="XXX16" class="sr-only">{{'WORLD_TIME' | translate}}</label>
                  <div class="input-group">
                      <span class="input-group-btn">
                          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                              <span class="glyphicon glyphicon-plane"></span>
                              <span class="caret"></span>
                          </button>
                          <ul class="dropdown-menu" role="menu">
                              <li data-ng-repeat="zone in timeZones">
                                <a href="javascript:void(0);" data-ng-click="setTimeZone($index)" tabindex="17">{{zone.name}}</a>
                              </li>
                          </ul>
                      </span>
                      <input id="XXX16" name="XXX16" type="text" tabindex="18" class="form-control" data-ng-readonly="true" data-ng-model="appointment.timezone_name">
                  </div>
              </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="">
        <div class="panel panel-default">
            <div class="panel-heading n-pointer" data-ng-click="collapse2=!collapse2">{{'BUSSINES_DETAILS' | translate}}</div>
            <div class="panel-body" data-ng-class="{collapse: !collapse2}">
                <div class="form-group">
                    <div class="n-autocomplete">
                        <!--<label for="XXX11" class="sr-only">{{'COMPANY' | translate}}</label>-->
                        <!--<input id="XXX11" name="XXX11" type="text" class="form-control" placeholder="{{'COMPANY' | translate}}" data-ng-model="appointment.company_id">-->
                        <data-angucomplete id="XXX11" placeholder="{{'COMPANY' | translate}}" data-tabindex="19"
                                           data-pause="400" data-model="appointmentTmp.tmpCompanyName" data-input-all-data="true"
                                           data-selected-object-id="id" data-url="/api/companies/search/" data-search-fields="name"
                                           data-title-field="name" data-input-class="form-control" data-multiple="false" data-show-as-box="true"
                                           data-box-items="appointment.company" data-label-name="COMPANY"
                                           data-label-class="sr-only">
                        </data-angucomplete>
                    </div>
                </div>
                <div class="form-group">
                    <div class="n-autocomplete">
                        <!--<label for="XXX12" class="sr-only">{{'OPPORTUNITY' | translate}}</label>-->
                        <!--<input id="XXX12" name="XXX12" type="text" class="form-control" placeholder="{{'OPPORTUNITY' | translate}}">-->
                        <data-angucomplete id="XXX12" placeholder="{{'OPPORTUNITY' | translate}}" data-tabindex="20"
                                           data-pause="400" data-model="appointmentTmp.tmpSalesPipeline" data-input-all-data="true"
                                           data-selected-object-id="id" data-url="/api/companies/{{getCompanyId()}}/sales-pipeline/all/" data-search-fields="name"
                                           data-title-field="name" data-input-class="form-control" data-multiple="false" data-show-as-box="true"
                                           data-box-items="appointment.salesPipeline" data-label-name="OPPORTUNITY"
                                           data-label-class="sr-only" data-disabled="appointment.company.length===0">
                        </data-angucomplete>
                    </div>
                </div>
                <div class="form-group">
                    <div class="">
                        <label for="XXX13" class="sr-only">{{'PIPELINE_STAGE' | translate}}</label>
                        <!--<input id="XXX13" name="XXX13" type="text" class="form-control" placeholder="{{'PIPELINE_STAGE' | translate}}" data-ng-model="appointment.sales_pipeline_stage_id">-->
                        <div class="input-group">
                          <input id="XXX13" name="XXX13" type="text" class="form-control" placeholder="{{'PIPELINE_STAGE' | translate}}"
                                 data-ng-model="appointmentTmp.tmpSalesPipelineStage"
                                 data-ng-readonly="true"
                                 data-ng-required="true">
                          <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" data-ng-disabled="salesPipelineStages.length===0 || appointment.salesPipeline.length===0">
                              <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                              <li data-ng-repeat="sales in salesPipelineStages">
                                <a href="javascript:void(0);" data-ng-click="setSalesPipelineStage($index)" tabindex="21">{{sales.name}}</a>
                              </li>
                            </ul>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="">
        <div class="panel panel-default">
            <div class="panel-heading n-pointer" data-ng-click="collapse3=!collapse3">{{'ATTENDEES' | translate}} <span class="badge">{{appointment.attendeeReminderMembers.length + appointment.teamReminderMembers.length}}</span></div>
            <div class="panel-body" data-ng-class="{collapse: !collapse3 }">
              <div class="form-group">
                <label for="XXX15" class="sr-only">{{'TEAM_MEMBERS' | translate}}</label>
                <div class="input-group">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                          <span class="glyphicon glyphicon-bell"></span>
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li data-ng-repeat="remind in listReminder">
                            <a href="javascript:void(0);" data-ng-click="setReminderTeamMembers($index)" tabindex="22">{{remind.prefix}}&nbsp;{{remind.name | translate}}</a>
                          </li>
                        </ul>
                    </span>
                    <input id="XXX15" name="XXX15" type="text" class="form-control" data-ng-readonly="true"
                           value="{{appointmentTmp.tmpTeamReminderPrefix}} {{appointmentTmp.tmpTeamReminder | translate}}">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                          <span class="glyphicon glyphicon-envelope"></span>
                        </button>
                    </span>
                </div>
              </div>
              <div class="n-autocomplete">
                <div class="form-group">
                  <!--<label for="XXX23" class="sr-only">{{'TEAM_MEMBERS' | translate}}</label>-->
                  <data-angucomplete id="XXX23" placeholder="{{'TEAM_MEMBERS' | translate}}" data-tabindex="23"
                                     data-pause="0" data-model="appointmentTmp.tmpSelectedTeamReminderMember" box-items="appointment.teamReminderMembers"
                                     data-selected-object-id="id" data-local-data="localDataUsers" data-search-fields="name"
                                     data-title-field="name" data-input-class="" data-multiple="true" data-show-as-box="true"
                                     data-ng-show="true" data-label-name="TEAM_MEMBERS"
                                     data-label-class="sr-only" data-input-all-data="false">
                  </data-angucomplete>
                </div>
              </div>
              <div class="form-group">
                <label for="XXX17" class="sr-only">{{'ATTENDEES' | translate}}</label>
                <div class="input-group">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                          <span class="glyphicon glyphicon-bell"></span>
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li data-ng-repeat="remind in listReminder">
                            <a href="javascript:void(0);" data-ng-click="setReminderAttendees($index)" tabindex="24">{{remind.prefix}}&nbsp;{{remind.name | translate}}</a>
                          </li>
                        </ul>
                    </span>
                    <input id="XXX17" name="XXX17" type="text" class="form-control" data-ng-readonly="true"
                           value="{{appointmentTmp.tmpAttendeeReminderPrefix}} {{appointmentTmp.tmpAttendeeReminder | translate}}">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                          <span class="glyphicon glyphicon-envelope"></span>
                        </button>
                    </span>
                </div>
              </div>
               <div class="n-autocomplete">
                <div class="form-group">
                  <!--<label for="XXX22" class="sr-only">{{'ATTENDEES' | translate}}</label>-->
                  <data-angucomplete id="XXX22" placeholder="{{'ATTENDEES' | translate}}" data-tabindex="25"
                                     data-pause="400" data-model="appointmentTmp.tmpSelectedAttendeeReminder" box-items="appointment.attendeeReminderMembers"
                                     data-selected-object-id="id" data-url="/api/people/all/without-team/search/" data-search-fields="name"
                                     data-title-field="name" data-input-class="" data-multiple="true" data-show-as-box="true"
                                     data-ng-show="true" data-label-name="ATTENDEES"
                                     data-label-class="sr-only" data-input-all-data="true">
                  </data-angucomplete>
                </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="">
        <div class="panel panel-default">
            <div class="panel-heading n-pointer" data-ng-click="collapse4=!collapse4">{{'OWNER' | translate}}</div>
            <div class="panel-body" data-ng-class="{collapse: !collapse4}">
                <div class="">
                    <div class="form-group">
                        <label for="XXX18" class="sr-only">{{'OWNER' | translate}}</label>
                        <input id="XXX18" name="XXX18" readonly="true" type="text" class="form-control" placeholder="{{'OWNER' | translate}}" data-ng-model="meta.ownerName">
                    </div>
                    <div class="form-group">
                        <label for="XXX19" class="sr-only">{{'PRIVATE' | translate}}</label>
                        <div class="input-group">
                            <span class="input-group-addon n-white">
                                <input type="checkbox" tabindex="26" data-ng-model="appointment.private" ng-true-value="'1'" ng-false-value="'0'">
                            </span>
                            <input id="XXX19" name="XXX19" type="text" class="form-control" placeholder="{{'PRIVATE' | translate}}" data-ng-readonly="true">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <data-action-buttons buttons="actionButtons"></data-action-buttons>
</div>
